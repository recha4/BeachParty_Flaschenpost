<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beach Party Flaschenpost üèñÔ∏è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #87CEEB;
            overflow-x: auto;
            overflow-y: hidden;
            height: 100vh;
            user-select: none;
        }

        .beach-container {
            position: relative;
            width: 200vw;
            height: 100vh;
            background: linear-gradient(to bottom, #87CEEB 0%, #F0E68C 70%, #D2B48C 100%);
        }

        /* Strand Szene */
        .beach-scene {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100%;
        }

        .sand {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30%;
            background: repeating-linear-gradient(45deg,
                    #F0E68C,
                    #F0E68C 4px,
                    #DDD8B0 4px,
                    #DDD8B0 8px);
        }

        .waves {
            position: absolute;
            bottom: 25%;
            left: 0;
            width: 100%;
            height: 5%;
            background: repeating-linear-gradient(90deg,
                    #4682B4,
                    #4682B4 20px,
                    #5F9EA0 20px,
                    #5F9EA0 40px);
            animation: waveMove 3s infinite linear;
        }

        @keyframes waveMove {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 40px 0;
            }
        }

        /* Wegweiser */
        .signpost {
            position: absolute;
            left: 80vw;
            bottom: 40%;
            width: 80px;
            height: 120px;
            cursor: pointer;
        }

        .signpost-pole {
            position: absolute;
            left: 35px;
            bottom: 0;
            width: 10px;
            height: 100px;
            background: #8B4513;
            box-shadow: inset 2px 0 #A0522D;
        }

        .signpost-arrow {
            position: absolute;
            top: 20px;
            left: 0;
            width: 0;
            height: 0;
            border-left: 40px solid #8B4513;
            border-top: 15px solid transparent;
            border-bottom: 15px solid transparent;
        }

        .signpost-text {
            position: absolute;
            top: 25px;
            left: 5px;
            color: #F5DEB3;
            font-size: 10px;
            font-weight: bold;
            text-shadow: 1px 1px #654321;
        }

        /* Flaschenpost Stand */
        .bottle-stand {
            position: absolute;
            left: 150vw;
            bottom: 35%;
            width: 200px;
            height: 150px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .bottle-stand:hover {
            transform: scale(1.05);
        }

        .stand-table {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 40px;
            background: #8B4513;
            border: 3px solid #654321;
            box-shadow: inset 0 3px #A0522D;
        }

        .bottles-container {
            position: absolute;
            bottom: 35px;
            left: 10px;
            width: 180px;
            height: 100px;
        }

        .bottle {
            position: absolute;
            width: 20px;
            height: 60px;
            background: #90EE90;
            border: 2px solid #228B22;
            border-radius: 0 0 10px 10px;
            opacity: 0.8;
        }

        .bottle::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 6px;
            width: 8px;
            height: 15px;
            background: #654321;
            border: 1px solid #8B4513;
        }

        /* Verschiedene Flaschen-Positionen */
        .bottle:nth-child(1) {
            left: 20px;
            bottom: 0;
        }

        .bottle:nth-child(2) {
            left: 45px;
            bottom: 10px;
        }

        .bottle:nth-child(3) {
            left: 70px;
            bottom: 5px;
        }

        .bottle:nth-child(4) {
            left: 95px;
            bottom: 15px;
        }

        .bottle:nth-child(5) {
            left: 120px;
            bottom: 0;
        }

        .bottle:nth-child(6) {
            left: 145px;
            bottom: 8px;
        }

        /* UI Elemente */
        .ui-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 1000;
        }

        .gallery-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            background: #FF6347;
            color: white;
            border: 3px solid #CD5C5C;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            cursor: pointer;
            pointer-events: all;
            box-shadow: 3px 3px 0 #8B0000;
            transition: transform 0.2s;
        }

        .gallery-btn:hover {
            transform: translateY(-2px);
            box-shadow: 5px 5px 0 #8B0000;
        }

        .gallery-btn:active {
            transform: translateY(0);
            box-shadow: 2px 2px 0 #8B0000;
        }

        /* Scroll Hinweis */
        .scroll-hint {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: #654321;
            font-size: 14px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.7;
            }

            50% {
                opacity: 1;
            }
        }

        /* Modal f√ºr Flaschenpost */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .message-paper {
            width: 90%;
            max-width: 400px;
            height: 500px;
            background: #F5E6D3;
            border: 3px solid #8B4513;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .message-paper::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 20px;
            width: 20px;
            height: 20px;
            background: #CD853F;
            border-radius: 50%;
        }

        .paper-title {
            font-size: 18px;
            text-align: center;
            margin-bottom: 20px;
            color: #8B4513;
            text-decoration: underline;
        }

        .name-input {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 2px solid #8B4513;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            background: #FFF8DC;
        }

        .message-textarea {
            width: 100%;
            height: 200px;
            padding: 15px;
            border: 2px solid #8B4513;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: none;
            background: #FFF8DC;
            line-height: 1.5;
        }

        .button-container {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            justify-content: space-between;
        }

        .btn {
            padding: 12px 20px;
            border: 3px solid;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 12px;
        }

        .btn-send {
            background: #32CD32;
            color: white;
            border-color: #228B22;
            box-shadow: 3px 3px 0 #006400;
            flex: 1;
        }

        .btn-send:hover {
            transform: translateY(-2px);
            box-shadow: 5px 5px 0 #006400;
        }

        .btn-cancel {
            background: #FF6347;
            color: white;
            border-color: #CD5C5C;
            box-shadow: 3px 3px 0 #8B0000;
        }

        .btn-cancel:hover {
            transform: translateY(-2px);
            box-shadow: 5px 5px 0 #8B0000;
        }

        .btn:active {
            transform: translateY(0);
        }

        /* Gallery Modal */
        .gallery-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 3000;
        }

        .gallery-content {
            width: 90%;
            max-width: 500px;
            height: 80%;
            background: #F5E6D3;
            border: 3px solid #8B4513;
            border-radius: 10px;
            padding: 20px;
            overflow-y: auto;
        }

        .gallery-title {
            font-size: 20px;
            text-align: center;
            margin-bottom: 20px;
            color: #8B4513;
        }

        .message-bottle {
            background: #90EE90;
            border: 3px solid #228B22;
            border-radius: 15px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .message-bottle:hover {
            transform: scale(1.02);
        }

        .bottle-preview {
            font-weight: bold;
            color: #006400;
            margin-bottom: 5px;
        }

        .bottle-content {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: #FFF8DC;
            border-radius: 5px;
            border: 2px solid #8B4513;
        }

        .close-gallery {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #8B4513;
            font-weight: bold;
        }

        /* Responsive */
        @media (max-width: 480px) {
            .message-paper {
                width: 95%;
                height: 450px;
                padding: 20px;
            }

            .message-textarea {
                height: 150px;
            }

            .signpost {
                left: 85vw;
            }
        }
    </style>
</head>

<body>
    <div class="beach-container">
        <div class="beach-scene">
            <div class="sand"></div>
            <div class="waves"></div>

            <!-- Wegweiser -->
            <div class="signpost" onclick="scrollToStand()">
                <div class="signpost-pole"></div>
                <div class="signpost-arrow"></div>
                <div class="signpost-text">Flaschenpost</div>
            </div>

            <!-- Flaschenpost Stand -->
            <div class="bottle-stand" onclick="openMessageModal()">
                <div class="stand-table"></div>
                <div class="bottles-container">
                    <div class="bottle"></div>
                    <div class="bottle"></div>
                    <div class="bottle"></div>
                    <div class="bottle"></div>
                    <div class="bottle"></div>
                    <div class="bottle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- UI Overlay -->
    <div class="ui-overlay">
        <button class="gallery-btn" onclick="openGallery()">üì¨ Flaschenposte</button>
        <div class="scroll-hint">‚Üê Scroll nach rechts f√ºr Flaschenpost ‚Üí</div>
    </div>

    <!-- Message Modal -->
    <div class="modal" id="messageModal">
        <div class="message-paper">
            <h2 class="paper-title">‚úâÔ∏è Deine Flaschenpost</h2>
            <input type="text" class="name-input" id="authorName" placeholder="Dein Name..." maxlength="50">
            <textarea class="message-textarea" id="messageText"
                placeholder="Schreibe deine Nachricht an das Jubelpaar...&#10;&#10;Liebe Gr√º√üe und alles Gute zum gemeinsamen 100. Geburtstag! üéâ"></textarea>
            <div class="button-container">
                <button class="btn btn-cancel" onclick="closeMessageModal()">Abbrechen</button>
                <button class="btn btn-send" onclick="sendMessage()">üçæ Ins Meer werfen!</button>
            </div>
        </div>
    </div>

    <!-- Gallery Modal -->
    <div class="gallery-modal" id="galleryModal">
        <div class="gallery-content">
            <span class="close-gallery" onclick="closeGallery()">&times;</span>
            <h2 class="gallery-title">üèñÔ∏è Alle Flaschenposte</h2>
            <div id="messagesContainer">
                <!-- Nachrichten werden hier eingef√ºgt -->
            </div>
        </div>
    </div>

    <script>
        // Nachrichten-Speicher (in echtem Projekt w√ºrde das ein Backend sein)
        let messages = [
            {
                author: "Max Mustermann",
                content: "Herzlichen Gl√ºckwunsch zu eurem besonderen Tag! Ihr seid ein wunderbares Paar und habt so viele sch√∂ne Jahre zusammen verbracht. M√∂gen noch viele weitere folgen! üéâ",
                timestamp: new Date().toISOString()
            },
            {
                author: "Anna Schmidt",
                content: "Liebe Oma, lieber Opa! Danke f√ºr all die tollen Erinnerungen und eure Weisheit. Ihr seid die besten Gro√üeltern der Welt! ‚ù§Ô∏è",
                timestamp: new Date().toISOString()
            }
        ];

        // Scroll zum Flaschenpost-Stand
        function scrollToStand() {
            document.querySelector('.beach-container').scrollLeft = window.innerWidth;
        }

        // Message Modal √∂ffnen/schlie√üen
        function openMessageModal() {
            document.getElementById('messageModal').style.display = 'flex';
            document.getElementById('authorName').focus();
        }

        function closeMessageModal() {
            document.getElementById('messageModal').style.display = 'none';
            document.getElementById('authorName').value = '';
            document.getElementById('messageText').value = '';
        }

        // Nachricht senden
        function sendMessage() {
            const author = document.getElementById('authorName').value.trim();
            const content = document.getElementById('messageText').value.trim();

            if (!author || !content) {
                alert('Bitte f√ºlle beide Felder aus! üìù');
                return;
            }

            if (content.length < 10) {
                alert('Die Nachricht ist etwas kurz. Schreibe mindestens 10 Zeichen! ‚úçÔ∏è');
                return;
            }

            // Nachricht hinzuf√ºgen
            const newMessage = {
                author: author,
                content: content,
                timestamp: new Date().toISOString()
            };

            messages.unshift(newMessage); // Neueste zuerst

            // Erfolgs-Animation (vereinfacht)
            alert('üéâ Deine Flaschenpost wurde ins Meer geworfen!');

            closeMessageModal();
            updateGallery();
        }

        // Gallery √∂ffnen/schlie√üen
        function openGallery() {
            document.getElementById('galleryModal').style.display = 'flex';
            updateGallery();
        }

        function closeGallery() {
            document.getElementById('galleryModal').style.display = 'none';
        }

        // Gallery aktualisieren
        function updateGallery() {
            const container = document.getElementById('messagesContainer');

            if (messages.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #8B4513; font-style: italic;">Noch keine Flaschenposte gefunden... üèùÔ∏è</p>';
                return;
            }

            container.innerHTML = '';

            messages.forEach((message, index) => {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message-bottle';
                messageDiv.innerHTML = `
                    <div class="bottle-preview">üçæ Von: ${escapeHtml(message.author)}</div>
                    <div class="bottle-content" id="content-${index}">
                        <strong>Nachricht:</strong><br>
                        ${escapeHtml(message.content).replace(/\n/g, '<br>')}
                        <hr style="margin: 10px 0; border: 1px solid #8B4513;">
                        <small style="color: #666;">Gefunden am: ${new Date(message.timestamp).toLocaleString('de-DE')}</small>
                    </div>
                `;

                messageDiv.onclick = () => toggleMessageContent(index);
                container.appendChild(messageDiv);
            });
        }

        // Nachrichten-Inhalt ein/ausblenden
        function toggleMessageContent(index) {
            const content = document.getElementById(`content-${index}`);
            if (content.style.display === 'none' || content.style.display === '') {
                content.style.display = 'block';
            } else {
                content.style.display = 'none';
            }
        }

        // HTML escaping f√ºr Sicherheit
        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, m => map[m]);
        }

        // Modal schlie√üen bei Klick au√üerhalb
        window.onclick = function (event) {
            const messageModal = document.getElementById('messageModal');
            const galleryModal = document.getElementById('galleryModal');

            if (event.target === messageModal) {
                closeMessageModal();
            }
            if (event.target === galleryModal) {
                closeGallery();
            }
        }

        // Keyboard Navigation
        document.addEventListener('keydown', function (event) {
            if (event.key === 'Escape') {
                closeMessageModal();
                closeGallery();
            }
        });

        // Initial Gallery laden
        updateGallery();
    </script>
</body>

</html>